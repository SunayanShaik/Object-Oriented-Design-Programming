package edu.umb.cs.cs680.hw02;

import static org.junit.Assert.*;

import org.junit.Before;
import org.junit.Test;

public class DrawerOpenTest {
	
	DVDPlayer player;
	State drawerOpen;

	@Before
	public void initalize() {
		player = DVDPlayer.getInstance();
		drawerOpen = DrawerOpen.getInstance(player);
		System.out.println("Testing functions for DrawerOpen State");
	}
	
	@Test
	public void testOpenCloseButtonPushed() {
		System.out.println("Open Close Button Pushed");
		player.changeState(drawerOpen);
		drawerOpen.openCloseButtonPushed(player);
		assertEquals(player.getState().hashCode(),DrawerClosedNotPlaying.getInstance(player).hashCode());
	}
	
	@Test
	public void testPlayButtonPushed() {
		System.out.println("Play Button Pushed");
		player.changeState(drawerOpen);
		drawerOpen.playButtonPushed(player);
		assertEquals(player.getState().hashCode(), DrawerClosedPlaying.getInstance(player).hashCode());
	}
	
	@Test
	public void testPlayButtonPushedNoDVD() {
		System.out.println("Play Button Pushed No DVD");
		player.changeState(drawerOpen);
		player.setDvdExists(false);
		drawerOpen.playButtonPushed(player);
		assertEquals(player.getState().hashCode(), DrawerClosedNotPlaying.getInstance(player).hashCode());
	}
	
	@Test
	public void testStopButtonPushed() {
		System.out.println("Stop Button Pushed");
		player.changeState(drawerOpen);
		drawerOpen.stopButtonPushed(player);
		assertEquals(player.getState().hashCode(), DrawerOpen.getInstance(player).hashCode());
	}
}
